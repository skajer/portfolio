// Dodaj na poczƒÖtku pliku script.js
const translations = {
    pl: {
        nav: {
            home: 'Strona g≈Ç√≥wna',
            portfolio: 'Portfolio',
            about: 'O mnie',
            testimonials: 'Opinie',
            contact: 'Kontakt'
        },
        hero: {
            greeting: 'Cze≈õƒá, jestem',
            name: 'Kacper',
            subtitle: 'Developer | Biznesmen | Freelancer',
            cta: 'Um√≥w siƒô na spotkanie üíª'
        },
        portfolio: {
            title: 'Portfolio',
            description: 'Moje najnowsze projekty'
        },
        about: {
            title: 'O mnie',
            description: 'Jestem programistƒÖ specjalizujƒÖcym siƒô w tworzeniu nowoczesnych aplikacji webowych i automatyzacji proces√≥w. Moje podej≈õcie skupia siƒô na dostarczaniu efektywnych i skalowalnych rozwiƒÖza≈Ñ.',
            stats: {
                years: 'Lata do≈õwiadczenia',
                projects: 'Zrealizowanych projekt√≥w',
                clients: 'Zadowolonych klient√≥w'
            }
        },
        testimonials: {
            title: 'Co m√≥wiƒÖ klienci',
            subtitle: 'Opinie os√≥b, z kt√≥rymi mia≈Çem przyjemno≈õƒá wsp√≥≈Çpracowaƒá',
            testimonials: [
                {
                    text: 'Casper wykona≈Ç WYJƒÑTKOWƒÑ pracƒô przy moim projekcie! Jego kod by≈Ç dopracowany, wolny od b≈Çƒôd√≥w i pokaza≈Ç jego g≈ÇƒôbokƒÖ wiedzƒô. Co wiƒôcej, szybka realizacja i duch wsp√≥≈Çpracy sprawi≈Çy, ≈ºe praca z nim by≈Ça przyjemno≈õciƒÖ.',
                    author: 'Johann Schwarz',
                    position: 'Niemcy'
                },
                {
                    text: 'Casper jest fantastycznƒÖ osobƒÖ do wsp√≥≈Çpracy! To, ≈ºe jest tak m≈Çody, ≈õwiadczy o tym, jak jest inteligentny i zdolny. Jestem pod wielkim wra≈ºeniem poziomu jego pracy i profesjonalizmu. GorƒÖco polecam Caspera, je≈õli szukasz dobrze wykonanej pracy przed terminem.',
                    author: 'Hansel Annie',
                    position: 'Kanada'
                },
                {
                    text: '≈öwietna wsp√≥≈Çpraca, moje wymagania by≈Çy trudne do wyt≈Çumaczenia, ale dziƒôki Casperowi osiƒÖgnƒôli≈õmy zamierzony rezultat. Dziƒôkujƒô jeszcze raz',
                    author: 'Roberto Buti',
                    position: 'W≈Çochy'
                }
            ]
        },
        contact: {
            title: 'Um√≥w spotkanie',
            subtitle: 'Porozmawiajmy o Twoim projekcie. Skontaktuj siƒô ze mnƒÖ bezpo≈õrednio przez kalendarz.',
            form: {
                name: 'Imiƒô i nazwisko',
                email: 'Email',
                message: 'Wiadomo≈õƒá',
                submit: 'Um√≥w spotkanie ‚Üí'
            }
        },
        whyMe: {
            title: 'Dlaczego ja?',
            features: [
                {
                    number: '01',
                    title: 'Szybko≈õƒá i jako≈õƒá',
                    description: 'Wieloletnie do≈õwiadczenie w freelancingu nauczy≈Ço mnie efektywnej realizacji projekt√≥w. Szybko≈õƒá nie oznacza kompromis√≥w w jako≈õci - to sytuacja win-win, gdzie Ty otrzymujesz produkt szybciej, a ja mogƒô podjƒÖƒá siƒô kolejnych wyzwa≈Ñ.'
                },
                {
                    number: '02',
                    title: 'Sprawdzone do≈õwiadczenie',
                    description: 'Ponad 4 lata aktywnej pracy z r√≥≈ºnorodnymi projektami i technologiami. Ka≈ºdy zrealizowany projekt to nie tylko kod, ale r√≥wnie≈º cenne do≈õwiadczenie w komunikacji i rozwiƒÖzywaniu z≈Ço≈ºonych problem√≥w biznesowych.'
                },
                {
                    number: '03',
                    title: 'Kompleksowe podej≈õcie',
                    description: 'Nie tylko programujƒô, ale r√≥wnie≈º doradzam w kwestiach technicznych i biznesowych. Pomagam wybraƒá optymalne rozwiƒÖzania, kt√≥re sprawdzƒÖ siƒô zar√≥wno dzi≈õ, jak i w przysz≈Ço≈õci.'
                }
            ]
        },
        footer: {
            copyright: '¬© 2024 Kacper Stefa≈Ñski. Wszystkie prawa zastrze≈ºone.',
            privacyPolicy: 'Polityka Prywatno≈õci'
        }
    },
    en: {
        nav: {
            home: 'Home',
            portfolio: 'Portfolio',
            about: 'About',
            testimonials: 'Testimonials',
            contact: 'Contact'
        },
        hero: {
            greeting: 'Hi, I\'m',
            name: 'Kacper',
            subtitle: 'Developer | Businessman | Freelancer',
            cta: 'Schedule a meeting üíª'
        },
        portfolio: {
            title: 'Portfolio',
            description: 'My latest projects'
        },
        about: {
            title: 'About',
            description: 'I am a programmer specializing in creating modern web applications and process automation. My approach focuses on delivering effective and scalable solutions.',
            stats: {
                years: 'Years of experience',
                projects: 'Completed projects',
                clients: 'Satisfied clients'
            }
        },
        testimonials: {
            title: 'What clients say',
            subtitle: 'Testimonials from people I had the pleasure to work with',
            testimonials: [
                {
                    text: 'Casper did an EXCEPTIONAL job on my project! His code was polished, bug-free, and showcased his deep expertise. Moreover, his prompt delivery and cooperative spirit made working with him a breeze.',
                    author: 'Johann Schwarz',
                    position: 'Germany'
                },
                {
                    text: 'Casper is fantastic to work with! That he is so young is a testament to how smart and capable he is. I\'m very impressed at the level of his work and his professionalism. I highly recommend Casper if you are looking for a job well done and ahead of schedule.',
                    author: 'Hansel Annie',
                    position: 'Canada'
                },
                {
                    text: 'Great cooperation, my request was difficult to explain, but thanks to Casper we have reached the result. Thank you again',
                    author: 'Roberto Buti',
                    position: 'Italy'
                }
            ]
        },
        contact: {
            title: 'Schedule a meeting',
            subtitle: 'Let\'s talk about your project. Contact me directly through the calendar.',
            form: {
                name: 'Full name',
                email: 'Email',
                message: 'Message',
                submit: 'Schedule a meeting ‚Üí'
            }
        },
        whyMe: {
            title: 'Why me?',
            features: [
                {
                    number: '01',
                    title: 'Speed and quality',
                    description: 'Years of freelancing taught me how to deliver projects efficiently. Speed doesn\'t mean compromising quality - it\'s a win-win situation where you get your product faster, and I can take on new challenges.'
                },
                {
                    number: '02',
                    title: 'Proven experience',
                    description: 'Over 4 years of active work with diverse projects and technologies. Each completed project represents not just code, but valuable experience in communication and solving complex business problems.'
                },
                {
                    number: '03',
                    title: 'Comprehensive approach',
                    description: 'I don\'t just code, I also provide technical and business consulting. I help choose optimal solutions that will work both today and in the future.'
                }
            ]
        },
        footer: {
            copyright: '¬© 2024 Kacper Stefa≈Ñski. All rights reserved.',
            privacyPolicy: 'Privacy Policy'
        }
    }
};

// Funkcja do zmiany jƒôzyka
function changeLanguage(lang) {
    const t = translations[lang];
    
    // Aktualizacja nawigacji
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (key && t.nav[key]) {
            element.textContent = t.nav[key];
        }
    });
    
    // Aktualizacja sekcji hero
    document.querySelector('.hero h1').innerHTML = 
        `${t.hero.greeting} <br>${t.hero.name}<span class="cursor">|</span>`;
    document.querySelector('.hero .subtitle').textContent = t.hero.subtitle;
    document.querySelector('.cta-button').textContent = t.hero.cta;
    
    // Aktualizacja pozosta≈Çych sekcji
    Object.keys(t).forEach(section => {
        if (section === 'nav' || section === 'hero') return;
        
        const sectionElement = document.getElementById(section);
        if (sectionElement) {
            const titleElement = sectionElement.querySelector('h2');
            const descElement = sectionElement.querySelector('.section-description');
            
            if (titleElement) titleElement.textContent = t[section].title;
            if (descElement) descElement.textContent = t[section].description;
        }
    });
    
    // Aktualizacja sekcji About
    const aboutSection = document.getElementById('about');
    if (aboutSection) {
        aboutSection.querySelector('h2').textContent = t.about.title;
        aboutSection.querySelector('p').textContent = t.about.description;
        
        // Aktualizacja statystyk
        const statsLabels = aboutSection.querySelectorAll('.stat-label');
        statsLabels.forEach(label => {
            const key = label.getAttribute('data-stat');
            if (key && t.about.stats[key]) {
                label.textContent = t.about.stats[key];
            }
        });
    }
    
    // Aktualizacja sekcji testimonials
    const testimonialsSection = document.getElementById('opinie');
    if (testimonialsSection) {
        // Aktualizacja tytu≈Çu i podtytu≈Çu
        testimonialsSection.querySelector('h2').textContent = t.testimonials.title;
        testimonialsSection.querySelector('.section-subtitle').textContent = t.testimonials.subtitle;
        
        // Aktualizacja testimoniali
        const testimonialCards = testimonialsSection.querySelectorAll('.testimonial-card');
        testimonialCards.forEach((card, index) => {
            const testimonial = t.testimonials.testimonials[index];
            if (testimonial) {
                card.querySelector('.testimonial-text').textContent = `"${testimonial.text}"`;
                card.querySelector('.testimonial-author h3').textContent = testimonial.author;
                card.querySelector('.testimonial-author p').textContent = testimonial.position;
            }
        });
    }
    
    // Aktualizacja sekcji "Dlaczego ja?"
    const whyMeSection = document.getElementById('why-me');
    if (whyMeSection) {
        whyMeSection.querySelector('h2').textContent = t.whyMe.title;
        
        const features = whyMeSection.querySelectorAll('.feature');
        features.forEach((feature, index) => {
            const featureData = t.whyMe.features[index];
            feature.querySelector('h3').textContent = featureData.title;
            feature.querySelector('p').textContent = featureData.description;
        });
    }
    
    // Aktualizacja sekcji kontaktowej
    const contactSection = document.getElementById('kontakt');
    if (contactSection) {
        contactSection.querySelector('h2').textContent = t.contact.title;
        contactSection.querySelector('.section-subtitle').textContent = t.contact.subtitle;
        contactSection.querySelector('.submit-btn').textContent = t.contact.form.submit;
    }
    
    // Zapisz preferencjƒô jƒôzyka
    localStorage.setItem('preferredLanguage', lang);
    
    // Aktualizuj aktywny przycisk jƒôzyka
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
    });
}

// Nas≈Çuchiwanie na przyciski zmiany jƒôzyka
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const lang = btn.getAttribute('data-lang');
            
            // Aktualizuj aktywny przycisk
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            // Zmie≈Ñ jƒôzyk
            changeLanguage(lang);
        });
    });

    // Ustaw poczƒÖtkowy jƒôzyk
    changeLanguage(currentLang);
});

// Funkcja do ≈õledzenia aktywnej sekcji
const sections = document.querySelectorAll('section[id]');
const navLinks = document.querySelectorAll('.nav-link');

function activeSection() {
    const scrollY = window.scrollY;

    sections.forEach(section => {
        const sectionHeight = section.offsetHeight;
        const sectionTop = section.offsetTop - 100; // offset dla lepszego timingu
        const sectionId = section.getAttribute('id');
        
        if(scrollY > sectionTop && scrollY <= sectionTop + sectionHeight) {
            navLinks.forEach(link => {
                link.classList.remove('active');
                if(link.getAttribute('href') === '#' + sectionId) {
                    link.classList.add('active');
                }
                // Specjalny przypadek dla strony g≈Ç√≥wnej
                if(sectionId === 'hero' && link.getAttribute('href') === '#') {
                    link.classList.add('active');
                }
            });
        }
    });
}

// Nas≈Çuchiwanie przewijania
window.addEventListener('scroll', activeSection);

document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const lang = btn.getAttribute('data-lang');
        updateTexts(lang);
        
        // Aktualizuj aktywny przycisk
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        // Zapisz preferencjƒô jƒôzyka
        localStorage.setItem('preferredLanguage', lang);
    });

});

// Dodaj na ko≈Ñcu pliku
document.querySelector('.menu-toggle').addEventListener('click', function() {
    document.querySelector('.nav-menu').classList.toggle('active');
});

// Zamykanie menu po klikniƒôciu w link
document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', () => {
        document.querySelector('.nav-menu').classList.remove('active');
    });
});
